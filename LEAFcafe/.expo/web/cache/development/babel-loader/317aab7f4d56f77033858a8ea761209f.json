{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Mobile\\\\LEAFcafe\\\\screens\\\\Restaurant.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { isIphoneX } from 'react-native-iphone-x-helper';\nimport { icons, COLORS, SIZES, FONTS } from \"../constants\";\n\nvar Restaurant = function Restaurant(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var scrollX = new Animated.Value(0);\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      restaurant = _React$useState2[0],\n      setRestaurant = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      currentLocation = _React$useState4[0],\n      setCurrentLocation = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      orderItems = _React$useState6[0],\n      setOrderItems = _React$useState6[1];\n\n  React.useEffect(function () {\n    var _route$params = route.params,\n        item = _route$params.item,\n        currentLocation = _route$params.currentLocation;\n    setRestaurant(item);\n    setCurrentLocation(currentLocation);\n  });\n\n  function editOrder(action, menuId, price) {\n    var orderList = orderItems.slice();\n    var item = orderList.filter(function (a) {\n      return a.menuId == menuId;\n    });\n\n    if (action == \"+\") {\n      if (item.length > 0) {\n        var newQty = item[0].qty + 1;\n        item[0].qty = newQty;\n        item[0].total = item[0].qty * price;\n      } else {\n        var newItem = {\n          menuId: menuId,\n          qty: 1,\n          price: price,\n          total: price\n        };\n        orderList.push(newItem);\n      }\n\n      setOrderItems(orderList);\n    } else {\n      if (item.length > 0) {\n        var _item$;\n\n        if (((_item$ = item[0]) == null ? void 0 : _item$.qty) > 0) {\n          var _newQty = item[0].qty - 1;\n\n          item[0].qty = _newQty;\n          item[0].total = _newQty * price;\n        }\n      }\n\n      setOrderItems(orderList);\n    }\n  }\n\n  function getOrderQty(menuId) {\n    var orderItem = orderItems.filter(function (a) {\n      return a.menuId == menuId;\n    });\n\n    if (orderItem.length > 0) {\n      return orderItem[0].qty;\n    }\n\n    return 0;\n  }\n\n  function getBasketItemCount() {\n    var itemCount = orderItems.reduce(function (a, b) {\n      return a + (b.qty || 0);\n    }, 0);\n    return itemCount;\n  }\n\n  function sumOrder() {\n    var total = orderItems.reduce(function (a, b) {\n      return a + (b.total || 0);\n    }, 0);\n    return total.toFixed(2);\n  }\n\n  function renderHeader() {\n    return React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        width: 50,\n        paddingLeft: SIZES.padding * 2,\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: icons.back,\n      resizeMode: \"contain\",\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    })), React.createElement(View, {\n      style: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        height: 50,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingHorizontal: SIZES.padding * 3,\n        borderRadius: SIZES.radius,\n        backgroundColor: COLORS.lightGray3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, restaurant == null ? void 0 : restaurant.name))), React.createElement(TouchableOpacity, {\n      style: {\n        width: 50,\n        paddingRight: SIZES.padding * 2,\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: icons.list,\n      resizeMode: \"contain\",\n      style: {\n        width: 30,\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  function renderFoodInfo() {\n    var _this2 = this;\n\n    return React.createElement(Animated.ScrollView, {\n      horizontal: true,\n      pagingEnabled: true,\n      scrollEventThrottle: 16,\n      snapToAlignment: \"center\",\n      showsHorizontalScrollIndicator: false,\n      onScroll: Animated.event([{\n        nativeEvent: {\n          contentOffset: {\n            x: scrollX\n          }\n        }\n      }], {\n        useNativeDriver: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, restaurant == null ? void 0 : restaurant.menu.map(function (item, index) {\n      return React.createElement(View, {\n        key: \"menu-\" + index,\n        style: {\n          alignItems: 'center'\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: {\n          height: SIZES.height * 0.35\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        source: item.photo,\n        resizeMode: \"cover\",\n        style: {\n          width: SIZES.width,\n          height: \"100%\"\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 33\n        }\n      }), React.createElement(View, {\n        style: {\n          position: 'absolute',\n          bottom: -20,\n          width: SIZES.width,\n          height: 50,\n          justifyContent: 'center',\n          flexDirection: 'row'\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 33\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          width: 50,\n          backgroundColor: COLORS.white,\n          alignItems: 'center',\n          justifyContent: 'center',\n          borderTopLeftRadius: 25,\n          borderBottomLeftRadius: 25\n        },\n        onPress: function onPress() {\n          return editOrder(\"-\", item.menuId, item.price);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({}, FONTS.body1),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 41\n        }\n      }, \"-\")), React.createElement(View, {\n        style: {\n          width: 50,\n          backgroundColor: COLORS.white,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({}, FONTS.h2),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 41\n        }\n      }, getOrderQty(item.menuId))), React.createElement(TouchableOpacity, {\n        style: {\n          width: 50,\n          backgroundColor: COLORS.white,\n          alignItems: 'center',\n          justifyContent: 'center',\n          borderTopRightRadius: 25,\n          borderBottomRightRadius: 25\n        },\n        onPress: function onPress() {\n          return editOrder(\"+\", item.menuId, item.price);\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({}, FONTS.body1),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 41\n        }\n      }, \"+\")))), React.createElement(View, {\n        style: {\n          width: SIZES.width,\n          alignItems: 'center',\n          marginTop: 15,\n          paddingHorizontal: SIZES.padding * 2\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({\n          marginVertical: 10,\n          textAlign: 'center'\n        }, FONTS.h2),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 33\n        }\n      }, item.name, \" - \", item.price.toFixed(2)), React.createElement(Text, {\n        style: _objectSpread({}, FONTS.body3),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 33\n        }\n      }, item.description)), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          marginTop: 10\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        source: icons.fire,\n        style: {\n          width: 20,\n          height: 20,\n          marginRight: 10\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 33\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, FONTS.body3), {}, {\n          color: COLORS.darygray\n        }),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 33\n        }\n      }, item.calories.toFixed(2), \" cal\")));\n    }));\n  }\n\n  function renderDots() {\n    var _this3 = this;\n\n    var dotPosition = Animated.divide(scrollX, SIZES.width);\n    return React.createElement(View, {\n      style: {\n        height: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, restaurant == null ? void 0 : restaurant.menu.map(function (item, index) {\n      var opacity = dotPosition.interpolate({\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [0.3, 1, 0.3],\n        extrapolate: \"clamp\"\n      });\n      var dotSize = dotPosition.interpolate({\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [SIZES.base * 0.8, 10, SIZES.base * 0.8],\n        extrapolate: \"clamp\"\n      });\n      var dotColor = dotPosition.interpolate({\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [COLORS.darkgray, COLORS.primary, COLORS.darkgray],\n        extrapolate: \"clamp\"\n      });\n      return React.createElement(Animated.View, {\n        key: \"dot-\" + index,\n        opacity: opacity,\n        style: {\n          borderRadius: SIZES.radius,\n          marginHorizontal: 6,\n          width: dotSize,\n          height: dotSize,\n          backgroundColor: dotColor\n        },\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 29\n        }\n      });\n    })));\n  }\n\n  function renderOrder() {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }\n    }, renderDots(), React.createElement(View, {\n      style: {\n        backgroundColor: COLORS.white,\n        borderTopLeftRadius: 40,\n        borderTopRightRadius: 40\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingVertical: SIZES.padding * 2,\n        paddingHorizontal: SIZES.padding * 3,\n        borderBottomColor: COLORS.lightGray2,\n        borderBottomWidth: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 25\n      }\n    }, getBasketItemCount(), \" items in Cart\"), React.createElement(Text, {\n      style: _objectSpread({}, FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 25\n      }\n    }, \"$\", sumOrder())), React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingVertical: SIZES.padding * 2,\n        paddingHorizontal: SIZES.padding * 3\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 25\n      }\n    }, React.createElement(Image, {\n      source: icons.pin,\n      resizeMode: \"contain\",\n      style: {\n        width: 20,\n        height: 20,\n        tintColor: COLORS.darkgray\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 29\n      }\n    }), React.createElement(Text, {\n      style: _objectSpread({\n        marginLeft: SIZES.padding\n      }, FONTS.h4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 29\n      }\n    }, \"Location\")), React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 25\n      }\n    }, React.createElement(Image, {\n      source: icons.master_card,\n      resizeMode: \"contain\",\n      style: {\n        width: 20,\n        height: 20,\n        tintColor: COLORS.darkgray\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 29\n      }\n    }), React.createElement(Text, {\n      style: _objectSpread({\n        marginLeft: SIZES.padding\n      }, FONTS.h4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 29\n      }\n    }, \"8888\"))), React.createElement(View, {\n      style: {\n        padding: SIZES.padding * 2,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 21\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        width: SIZES.width * 0.9,\n        padding: SIZES.padding,\n        backgroundColor: COLORS.primary,\n        alignItems: 'center',\n        borderRadius: SIZES.radius\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"OrderDelivery\", {\n          restaurant: restaurant,\n          currentLocation: currentLocation\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 25\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({\n        color: COLORS.white\n      }, FONTS.h2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 29\n      }\n    }, \"Order\")))), isIphoneX() && React.createElement(View, {\n      style: {\n        position: 'absolute',\n        bottom: -34,\n        left: 0,\n        right: 0,\n        height: 34,\n        backgroundColor: COLORS.white\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }\n  }, renderHeader(), renderFoodInfo(), renderOrder());\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: COLORS.lightGray2\n  }\n});\nexport default Restaurant;","map":{"version":3,"sources":["D:/Mobile/LEAFcafe/screens/Restaurant.js"],"names":["React","isIphoneX","icons","COLORS","SIZES","FONTS","Restaurant","route","navigation","scrollX","Animated","Value","useState","restaurant","setRestaurant","currentLocation","setCurrentLocation","orderItems","setOrderItems","useEffect","params","item","editOrder","action","menuId","price","orderList","slice","filter","a","length","newQty","qty","total","newItem","push","getOrderQty","orderItem","getBasketItemCount","itemCount","reduce","b","sumOrder","toFixed","renderHeader","flexDirection","width","paddingLeft","padding","justifyContent","goBack","back","height","flex","alignItems","paddingHorizontal","borderRadius","radius","backgroundColor","lightGray3","h3","name","paddingRight","list","renderFoodInfo","event","nativeEvent","contentOffset","x","useNativeDriver","menu","map","index","photo","position","bottom","white","borderTopLeftRadius","borderBottomLeftRadius","body1","h2","borderTopRightRadius","borderBottomRightRadius","marginTop","marginVertical","textAlign","body3","description","fire","marginRight","color","darygray","calories","renderDots","dotPosition","divide","opacity","interpolate","inputRange","outputRange","extrapolate","dotSize","base","dotColor","darkgray","primary","marginHorizontal","renderOrder","paddingVertical","borderBottomColor","lightGray2","borderBottomWidth","pin","tintColor","marginLeft","h4","master_card","navigate","left","right","styles","container","StyleSheet","create"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    StyleSheet,\n    SafeAreaView,\n    View,\n    Text,\n    TouchableOpacity,\n    Image,\n    Animated\n} from \"react-native\";\nimport { isIphoneX } from 'react-native-iphone-x-helper'\n\nimport { icons, COLORS, SIZES, FONTS } from '../constants'\n\nconst Restaurant = ({ route, navigation }) => {\n\n    const scrollX = new Animated.Value(0);\n    const [restaurant, setRestaurant] = React.useState(null);\n    const [currentLocation, setCurrentLocation] = React.useState(null);\n    const [orderItems, setOrderItems] = React.useState([]);\n\n    React.useEffect(() => {\n        let { item, currentLocation } = route.params;\n\n        setRestaurant(item)\n        setCurrentLocation(currentLocation)\n    })\n\n    function editOrder(action, menuId, price) {\n        let orderList = orderItems.slice()\n        let item = orderList.filter(a => a.menuId == menuId)\n\n        if (action == \"+\") {\n            if (item.length > 0) {\n                let newQty = item[0].qty + 1\n                item[0].qty = newQty\n                item[0].total = item[0].qty * price\n            } else {\n                const newItem = {\n                    menuId: menuId,\n                    qty: 1,\n                    price: price,\n                    total: price\n                }\n                orderList.push(newItem)\n            }\n\n            setOrderItems(orderList)\n        } else {\n            if (item.length > 0) {\n                if (item[0]?.qty > 0) {\n                    let newQty = item[0].qty - 1\n                    item[0].qty = newQty\n                    item[0].total = newQty * price\n                }\n            }\n\n            setOrderItems(orderList)\n        }\n    }\n\n    function getOrderQty(menuId) {\n        let orderItem = orderItems.filter(a => a.menuId == menuId)\n\n        if (orderItem.length > 0) {\n            return orderItem[0].qty\n        }\n\n        return 0\n    }\n\n    function getBasketItemCount() {\n        let itemCount = orderItems.reduce((a, b) => a + (b.qty || 0), 0)\n\n        return itemCount\n    }\n\n    function sumOrder() {\n        let total = orderItems.reduce((a, b) => a + (b.total || 0), 0)\n\n        return total.toFixed(2)\n    }\n\n    function renderHeader() {\n        return (\n            <View style={{ flexDirection: 'row' }}>\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingLeft: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => navigation.goBack()}\n                >\n                    <Image\n                        source={icons.back}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n\n                {/* Restaurant Name Section */}\n                <View\n                    style={{\n                        flex: 1,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 50,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderRadius: SIZES.radius,\n                            backgroundColor: COLORS.lightGray3\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>{restaurant?.name}</Text>\n                    </View>\n                </View>\n\n                <TouchableOpacity\n                    style={{\n                        width: 50,\n                        paddingRight: SIZES.padding * 2,\n                        justifyContent: 'center'\n                    }}\n                >\n                    <Image\n                        source={icons.list}\n                        resizeMode=\"contain\"\n                        style={{\n                            width: 30,\n                            height: 30\n                        }}\n                    />\n                </TouchableOpacity>\n            </View>\n        )\n    }\n\n    function renderFoodInfo() {\n        return (\n            <Animated.ScrollView\n                horizontal\n                pagingEnabled\n                scrollEventThrottle={16}\n                snapToAlignment=\"center\"\n                showsHorizontalScrollIndicator={false}\n                onScroll={Animated.event([\n                    { nativeEvent: { contentOffset: { x: scrollX } } }\n                ], { useNativeDriver: false })}\n            >\n                {\n                    restaurant?.menu.map((item, index) => (\n                        <View\n                            key={`menu-${index}`}\n                            style={{ alignItems: 'center' }}\n                        >\n                            <View style={{ height: SIZES.height * 0.35 }}>\n                                {/* Food Image */}\n                                <Image\n                                    source={item.photo}\n                                    resizeMode=\"cover\"\n                                    style={{\n                                        width: SIZES.width,\n                                        height: \"100%\"\n                                    }}\n                                />\n\n                                {/* Quantity */}\n                                <View\n                                    style={{\n                                        position: 'absolute',\n                                        bottom: - 20,\n                                        width: SIZES.width,\n                                        height: 50,\n                                        justifyContent: 'center',\n                                        flexDirection: 'row'\n                                    }}\n                                >\n                                    <TouchableOpacity\n                                        style={{\n                                            width: 50,\n                                            backgroundColor: COLORS.white,\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            borderTopLeftRadius: 25,\n                                            borderBottomLeftRadius: 25\n                                        }}\n                                        onPress={() => editOrder(\"-\", item.menuId, item.price)}\n                                    >\n                                        <Text style={{ ...FONTS.body1 }}>-</Text>\n                                    </TouchableOpacity>\n\n                                    <View\n                                        style={{\n                                            width: 50,\n                                            backgroundColor: COLORS.white,\n                                            alignItems: 'center',\n                                            justifyContent: 'center'\n                                        }}\n                                    >\n                                        <Text style={{ ...FONTS.h2 }}>{getOrderQty(item.menuId)}</Text>\n                                    </View>\n\n                                    <TouchableOpacity\n                                        style={{\n                                            width: 50,\n                                            backgroundColor: COLORS.white,\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            borderTopRightRadius: 25,\n                                            borderBottomRightRadius: 25\n                                        }}\n                                        onPress={() => editOrder(\"+\", item.menuId, item.price)}\n                                    >\n                                        <Text style={{ ...FONTS.body1 }}>+</Text>\n                                    </TouchableOpacity>\n                                </View>\n                            </View>\n\n                            {/* Name & Description */}\n                            <View\n                                style={{\n                                    width: SIZES.width,\n                                    alignItems: 'center',\n                                    marginTop: 15,\n                                    paddingHorizontal: SIZES.padding * 2\n                                }}\n                            >\n                                <Text style={{ marginVertical: 10, textAlign: 'center', ...FONTS.h2 }}>{item.name} - {item.price.toFixed(2)}</Text>\n                                <Text style={{ ...FONTS.body3 }}>{item.description}</Text>\n                            </View>\n\n                            {/* Calories */}\n                            <View\n                                style={{\n                                    flexDirection: 'row',\n                                    marginTop: 10\n                                }}\n                            >\n                                <Image\n                                    source={icons.fire}\n                                    style={{\n                                        width: 20,\n                                        height: 20,\n                                        marginRight: 10\n                                    }}\n                                />\n\n                                <Text style={{\n                                    ...FONTS.body3, color: COLORS.darygray\n                                }}>{item.calories.toFixed(2)} cal</Text>\n                            </View>\n                        </View>\n                    ))\n                }\n            </Animated.ScrollView>\n        )\n    }\n\n    function renderDots() {\n\n        const dotPosition = Animated.divide(scrollX, SIZES.width)\n\n        return (\n            <View style={{ height: 30 }}>\n                <View\n                    style={{\n                        flexDirection: 'row',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        height: SIZES.padding\n                    }}\n                >\n                    {restaurant?.menu.map((item, index) => {\n\n                        const opacity = dotPosition.interpolate({\n                            inputRange: [index - 1, index, index + 1],\n                            outputRange: [0.3, 1, 0.3],\n                            extrapolate: \"clamp\"\n                        })\n\n                        const dotSize = dotPosition.interpolate({\n                            inputRange: [index - 1, index, index + 1],\n                            outputRange: [SIZES.base * 0.8, 10, SIZES.base * 0.8],\n                            extrapolate: \"clamp\"\n                        })\n\n                        const dotColor = dotPosition.interpolate({\n                            inputRange: [index - 1, index, index + 1],\n                            outputRange: [COLORS.darkgray, COLORS.primary, COLORS.darkgray],\n                            extrapolate: \"clamp\"\n                        })\n\n                        return (\n                            <Animated.View\n                                key={`dot-${index}`}\n                                opacity={opacity}\n                                style={{\n                                    borderRadius: SIZES.radius,\n                                    marginHorizontal: 6,\n                                    width: dotSize,\n                                    height: dotSize,\n                                    backgroundColor: dotColor\n                                }}\n                            />\n                        )\n                    })}\n                </View>\n            </View>\n        )\n    }\n\n    function renderOrder() {\n        return (\n            <View>\n                {\n                    renderDots()\n                }\n                <View\n                    style={{\n                        backgroundColor: COLORS.white,\n                        borderTopLeftRadius: 40,\n                        borderTopRightRadius: 40\n                    }}\n                >\n                    <View\n                        style={{\n                            flexDirection: 'row',\n                            justifyContent: 'space-between',\n                            paddingVertical: SIZES.padding * 2,\n                            paddingHorizontal: SIZES.padding * 3,\n                            borderBottomColor: COLORS.lightGray2,\n                            borderBottomWidth: 1\n                        }}\n                    >\n                        <Text style={{ ...FONTS.h3 }}>{getBasketItemCount()} items in Cart</Text>\n                        <Text style={{ ...FONTS.h3 }}>${sumOrder()}</Text>\n                    </View>\n\n                    <View\n                        style={{\n                            flexDirection: 'row',\n                            justifyContent: 'space-between',\n                            paddingVertical: SIZES.padding * 2,\n                            paddingHorizontal: SIZES.padding * 3\n                        }}\n                    >\n                        <View style={{ flexDirection: 'row' }}>\n                            <Image\n                                source={icons.pin}\n                                resizeMode=\"contain\"\n                                style={{\n                                    width: 20,\n                                    height: 20,\n                                    tintColor: COLORS.darkgray\n                                }}\n                            />\n                            <Text style={{ marginLeft: SIZES.padding, ...FONTS.h4 }}>Location</Text>\n                        </View>\n\n                        <View style={{ flexDirection: 'row' }}>\n                            <Image\n                                source={icons.master_card}\n                                resizeMode=\"contain\"\n                                style={{\n                                    width: 20,\n                                    height: 20,\n                                    tintColor: COLORS.darkgray\n                                }}\n                            />\n                            <Text style={{ marginLeft: SIZES.padding, ...FONTS.h4 }}>8888</Text>\n                        </View>\n                    </View>\n\n                    {/* Order Button */}\n                    <View\n                        style={{\n                            padding: SIZES.padding * 2,\n                            alignItems: 'center',\n                            justifyContent: 'center'\n                        }}\n                    >\n                        <TouchableOpacity\n                            style={{\n                                width: SIZES.width * 0.9,\n                                padding: SIZES.padding,\n                                backgroundColor: COLORS.primary,\n                                alignItems: 'center',\n                                borderRadius: SIZES.radius\n                            }}\n                            onPress={() => navigation.navigate(\"OrderDelivery\", {\n                                restaurant: restaurant,\n                                currentLocation: currentLocation\n                            })}\n                        >\n                            <Text style={{ color: COLORS.white, ...FONTS.h2 }}>Order</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n\n                {isIphoneX() &&\n                    <View\n                        style={{\n                            position: 'absolute',\n                            bottom: -34,\n                            left: 0,\n                            right: 0,\n                            height: 34,\n                            backgroundColor: COLORS.white\n                        }}\n                    >\n                    </View>\n                }\n            </View>\n        )\n    }\n\n    return (\n        <SafeAreaView style={styles.container}>\n            {renderHeader()}\n            {renderFoodInfo()}\n            {renderOrder()}\n        </SafeAreaView>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: COLORS.lightGray2\n    }\n})\n\nexport default Restaurant;"]},"metadata":{},"sourceType":"module"}