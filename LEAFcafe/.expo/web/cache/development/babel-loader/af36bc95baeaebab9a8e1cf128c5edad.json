{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Mobile\\\\LEAFcafe\\\\screens\\\\OrderDelivery.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport MapView, { PROVIDER_GOOGLE, Marker } from 'react-native-maps';\nimport MapViewDirections from \"react-native-maps-directions\";\nimport { COLORS, FONTS, icons, SIZES, GOOGLE_API_KEY } from \"../constants\";\n\nvar OrderDelivery = function OrderDelivery(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var mapView = React.useRef();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      restaurant = _React$useState2[0],\n      setRestaurant = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      streetName = _React$useState4[0],\n      setStreetName = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      fromLocation = _React$useState6[0],\n      setFromLocation = _React$useState6[1];\n\n  var _React$useState7 = React.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      toLocation = _React$useState8[0],\n      setToLocation = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      region = _React$useState10[0],\n      setRegion = _React$useState10[1];\n\n  var _React$useState11 = React.useState(0),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      duration = _React$useState12[0],\n      setDuration = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      isReady = _React$useState14[0],\n      setIsReady = _React$useState14[1];\n\n  var _React$useState15 = React.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      angle = _React$useState16[0],\n      setAngle = _React$useState16[1];\n\n  React.useEffect(function () {\n    var _route$params = route.params,\n        restaurant = _route$params.restaurant,\n        currentLocation = _route$params.currentLocation;\n    var fromLoc = currentLocation.gps;\n    var toLoc = restaurant.location;\n    var street = currentLocation.streetName;\n    var mapRegion = {\n      latitude: (fromLoc.latitude + toLoc.latitude) / 2,\n      longitude: (fromLoc.longitude + toLoc.longitude) / 2,\n      latitudeDelta: Math.abs(fromLoc.latitude - toLoc.latitude) * 2,\n      longitudeDelta: Math.abs(fromLoc.longitude - toLoc.longitude) * 2\n    };\n    setRestaurant(restaurant);\n    setStreetName(street);\n    setFromLocation(fromLoc);\n    setToLocation(toLoc);\n    setRegion(mapRegion);\n  }, []);\n\n  function calculateAngle(coordinates) {\n    var startLat = coordinates[0][\"latitude\"];\n    var startLng = coordinates[0][\"longitude\"];\n    var endLat = coordinates[1][\"latitude\"];\n    var endLng = coordinates[1][\"longitude\"];\n    var dx = endLat - startLat;\n    var dy = endLng - startLng;\n    return Math.atan2(dy, dx) * 180 / Math.PI;\n  }\n\n  function zoomIn() {\n    var newRegion = {\n      latitude: region.latitude,\n      longitude: region.longitude,\n      latitudeDelta: region.latitudeDelta / 2,\n      longitudeDelta: region.longitudeDelta / 2\n    };\n    setRegion(newRegion);\n    mapView.current.animateToRegion(newRegion, 200);\n  }\n\n  function zoomOut() {\n    var newRegion = {\n      latitude: region.latitude,\n      longitude: region.longitude,\n      latitudeDelta: region.latitudeDelta * 2,\n      longitudeDelta: region.longitudeDelta * 2\n    };\n    setRegion(newRegion);\n    mapView.current.animateToRegion(newRegion, 200);\n  }\n\n  function renderMap() {\n    var _this2 = this;\n\n    var destinationMarker = function destinationMarker() {\n      return React.createElement(Marker, {\n        coordinate: toLocation,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 40,\n          width: 40,\n          borderRadius: 20,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: COLORS.white\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 30,\n          width: 30,\n          borderRadius: 15,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: COLORS.primary\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: icons.pin,\n        style: {\n          width: 25,\n          height: 25,\n          tintColor: COLORS.white\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }))));\n    };\n\n    var carIcon = function carIcon() {\n      return React.createElement(Marker, {\n        coordinate: fromLocation,\n        anchor: {\n          x: 0.5,\n          y: 0.5\n        },\n        flat: true,\n        rotation: angle,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: icons.car,\n        style: {\n          width: 40,\n          height: 40\n        },\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    return React.createElement(View, {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, React.createElement(MapView, {\n      ref: mapView,\n      provider: PROVIDER_GOOGLE,\n      initialRegion: region,\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, React.createElement(MapViewDirections, {\n      origin: fromLocation,\n      destination: toLocation,\n      apikey: GOOGLE_API_KEY,\n      strokeWidth: 5,\n      strokeColor: COLORS.primary,\n      optimizeWaypoints: true,\n      onReady: function onReady(result) {\n        setDuration(result.duration);\n\n        if (!isReady) {\n          mapView.current.fitToCoordinates(result.coordinates, {\n            edgePadding: {\n              right: SIZES.width / 20,\n              bottom: SIZES.height / 4,\n              left: SIZES.width / 20,\n              top: SIZES.height / 8\n            }\n          });\n          var nextLoc = {\n            latitude: result.coordinates[0][\"latitude\"],\n            longitude: result.coordinates[0][\"longitude\"]\n          };\n\n          if (result.coordinates.length >= 2) {\n            var _angle = calculateAngle(result.coordinates);\n\n            setAngle(_angle);\n          }\n\n          setFromLocation(nextLoc);\n          setIsReady(true);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }), destinationMarker(), fromLocation ? carIcon() : null));\n  }\n\n  function renderDestinationHeader() {\n    return React.createElement(View, {\n      style: {\n        position: 'absolute',\n        top: 50,\n        left: 0,\n        right: 0,\n        height: 50,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        width: SIZES.width * 0.9,\n        paddingVertical: SIZES.padding,\n        paddingHorizontal: SIZES.padding * 2,\n        borderRadius: SIZES.radius,\n        backgroundColor: COLORS.white\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: icons.red_pin,\n      style: {\n        width: 30,\n        height: 30,\n        marginRight: SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }), React.createElement(View, {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.body3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, streetName)), React.createElement(Text, {\n      style: _objectSpread({}, FONTS.body3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, Math.ceil(duration), \" mins\")));\n  }\n\n  function renderDeliveryInfo() {\n    return React.createElement(View, {\n      style: {\n        position: 'absolute',\n        bottom: 50,\n        left: 0,\n        right: 0,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        width: SIZES.width * 0.9,\n        paddingVertical: SIZES.padding * 3,\n        paddingHorizontal: SIZES.padding * 2,\n        borderRadius: SIZES.radius,\n        backgroundColor: COLORS.white\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, React.createElement(Image, {\n      source: restaurant == null ? void 0 : restaurant.courier.avatar,\n      style: {\n        width: 50,\n        height: 50,\n        borderRadius: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 25\n      }\n    }), React.createElement(View, {\n      style: {\n        flex: 1,\n        marginLeft: SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 29\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.h4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 33\n      }\n    }, restaurant == null ? void 0 : restaurant.courier.name), React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 33\n      }\n    }, React.createElement(Image, {\n      source: icons.star,\n      style: {\n        width: 18,\n        height: 18,\n        tintColor: COLORS.primary,\n        marginRight: SIZES.padding\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 37\n      }\n    }), React.createElement(Text, {\n      style: _objectSpread({}, FONTS.body3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, restaurant == null ? void 0 : restaurant.rating))), React.createElement(Text, {\n      style: _objectSpread({\n        color: COLORS.darkgray\n      }, FONTS.body4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 29\n      }\n    }, restaurant == null ? void 0 : restaurant.name))), React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        marginTop: SIZES.padding * 2,\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        flex: 1,\n        height: 50,\n        marginRight: 10,\n        backgroundColor: COLORS.primary,\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 10\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"Home\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 25\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, FONTS.h4), {}, {\n        color: COLORS.white\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 29\n      }\n    }, \"Call\")), React.createElement(TouchableOpacity, {\n      style: {\n        flex: 1,\n        height: 50,\n        backgroundColor: COLORS.secondary,\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 10\n      },\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 25\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, FONTS.h4), {}, {\n        color: COLORS.white\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 29\n      }\n    }, \"Cancel\")))));\n  }\n\n  function renderButtons() {\n    return React.createElement(View, {\n      style: {\n        position: 'absolute',\n        bottom: SIZES.height * 0.35,\n        right: SIZES.padding * 2,\n        width: 60,\n        height: 130,\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        width: 60,\n        height: 60,\n        borderRadius: 30,\n        backgroundColor: COLORS.white,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return zoomIn();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.body1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }\n    }, \"+\")), React.createElement(TouchableOpacity, {\n      style: {\n        width: 60,\n        height: 60,\n        borderRadius: 30,\n        backgroundColor: COLORS.white,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      onPress: function onPress() {\n        return zoomOut();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({}, FONTS.body1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }\n    }, \"-\")));\n  }\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }\n  }, renderMap(), renderDestinationHeader(), renderDeliveryInfo(), renderButtons());\n};\n\nexport default OrderDelivery;","map":{"version":3,"sources":["D:/Mobile/LEAFcafe/screens/OrderDelivery.js"],"names":["React","MapView","PROVIDER_GOOGLE","Marker","MapViewDirections","COLORS","FONTS","icons","SIZES","GOOGLE_API_KEY","OrderDelivery","route","navigation","mapView","useRef","useState","restaurant","setRestaurant","streetName","setStreetName","fromLocation","setFromLocation","toLocation","setToLocation","region","setRegion","duration","setDuration","isReady","setIsReady","angle","setAngle","useEffect","params","currentLocation","fromLoc","gps","toLoc","location","street","mapRegion","latitude","longitude","latitudeDelta","Math","abs","longitudeDelta","calculateAngle","coordinates","startLat","startLng","endLat","endLng","dx","dy","atan2","PI","zoomIn","newRegion","current","animateToRegion","zoomOut","renderMap","destinationMarker","height","width","borderRadius","alignItems","justifyContent","backgroundColor","white","primary","pin","tintColor","carIcon","x","y","car","flex","result","fitToCoordinates","edgePadding","right","bottom","left","top","nextLoc","length","renderDestinationHeader","position","flexDirection","paddingVertical","padding","paddingHorizontal","radius","red_pin","marginRight","body3","ceil","renderDeliveryInfo","courier","avatar","marginLeft","h4","name","star","rating","color","darkgray","body4","marginTop","navigate","secondary","goBack","renderButtons","body1"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;AAOA,OAAOC,OAAP,IAAkBC,eAAlB,EAAmCC,MAAnC,QAAiD,mBAAjD;AACA,OAAOC,iBAAP,MAA8B,8BAA9B;AAEA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,KAAxB,EAA+BC,KAA/B,EAAsCC,cAAtC;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAA2B;AAAA,MAAxBC,KAAwB,QAAxBA,KAAwB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AAE7C,MAAMC,OAAO,GAAGb,KAAK,CAACc,MAAN,EAAhB;;AAF6C,wBAITd,KAAK,CAACe,QAAN,CAAe,IAAf,CAJS;AAAA;AAAA,MAItCC,UAJsC;AAAA,MAI1BC,aAJ0B;;AAAA,yBAKTjB,KAAK,CAACe,QAAN,CAAe,EAAf,CALS;AAAA;AAAA,MAKtCG,UALsC;AAAA,MAK1BC,aAL0B;;AAAA,yBAMLnB,KAAK,CAACe,QAAN,CAAe,IAAf,CANK;AAAA;AAAA,MAMtCK,YANsC;AAAA,MAMxBC,eANwB;;AAAA,yBAOTrB,KAAK,CAACe,QAAN,CAAe,IAAf,CAPS;AAAA;AAAA,MAOtCO,UAPsC;AAAA,MAO1BC,aAP0B;;AAAA,yBAQjBvB,KAAK,CAACe,QAAN,CAAe,IAAf,CARiB;AAAA;AAAA,MAQtCS,MARsC;AAAA,MAQ9BC,SAR8B;;AAAA,0BAUbzB,KAAK,CAACe,QAAN,CAAe,CAAf,CAVa;AAAA;AAAA,MAUtCW,QAVsC;AAAA,MAU5BC,WAV4B;;AAAA,0BAWf3B,KAAK,CAACe,QAAN,CAAe,KAAf,CAXe;AAAA;AAAA,MAWtCa,OAXsC;AAAA,MAW7BC,UAX6B;;AAAA,0BAYnB7B,KAAK,CAACe,QAAN,CAAe,CAAf,CAZmB;AAAA;AAAA,MAYtCe,KAZsC;AAAA,MAY/BC,QAZ+B;;AAc7C/B,EAAAA,KAAK,CAACgC,SAAN,CAAgB,YAAM;AAAA,wBACoBrB,KAAK,CAACsB,MAD1B;AAAA,QACZjB,UADY,iBACZA,UADY;AAAA,QACAkB,eADA,iBACAA,eADA;AAGlB,QAAIC,OAAO,GAAGD,eAAe,CAACE,GAA9B;AACA,QAAIC,KAAK,GAAGrB,UAAU,CAACsB,QAAvB;AACA,QAAIC,MAAM,GAAGL,eAAe,CAAChB,UAA7B;AAEA,QAAIsB,SAAS,GAAG;AACZC,MAAAA,QAAQ,EAAE,CAACN,OAAO,CAACM,QAAR,GAAmBJ,KAAK,CAACI,QAA1B,IAAsC,CADpC;AAEZC,MAAAA,SAAS,EAAE,CAACP,OAAO,CAACO,SAAR,GAAoBL,KAAK,CAACK,SAA3B,IAAwC,CAFvC;AAGZC,MAAAA,aAAa,EAAEC,IAAI,CAACC,GAAL,CAASV,OAAO,CAACM,QAAR,GAAmBJ,KAAK,CAACI,QAAlC,IAA8C,CAHjD;AAIZK,MAAAA,cAAc,EAAEF,IAAI,CAACC,GAAL,CAASV,OAAO,CAACO,SAAR,GAAoBL,KAAK,CAACK,SAAnC,IAAgD;AAJpD,KAAhB;AAOAzB,IAAAA,aAAa,CAACD,UAAD,CAAb;AACAG,IAAAA,aAAa,CAACoB,MAAD,CAAb;AACAlB,IAAAA,eAAe,CAACc,OAAD,CAAf;AACAZ,IAAAA,aAAa,CAACc,KAAD,CAAb;AACAZ,IAAAA,SAAS,CAACe,SAAD,CAAT;AAEH,GApBD,EAoBG,EApBH;;AAsBA,WAASO,cAAT,CAAwBC,WAAxB,EAAqC;AACjC,QAAIC,QAAQ,GAAGD,WAAW,CAAC,CAAD,CAAX,CAAe,UAAf,CAAf;AACA,QAAIE,QAAQ,GAAGF,WAAW,CAAC,CAAD,CAAX,CAAe,WAAf,CAAf;AACA,QAAIG,MAAM,GAAGH,WAAW,CAAC,CAAD,CAAX,CAAe,UAAf,CAAb;AACA,QAAII,MAAM,GAAGJ,WAAW,CAAC,CAAD,CAAX,CAAe,WAAf,CAAb;AACA,QAAIK,EAAE,GAAGF,MAAM,GAAGF,QAAlB;AACA,QAAIK,EAAE,GAAGF,MAAM,GAAGF,QAAlB;AAEA,WAAON,IAAI,CAACW,KAAL,CAAWD,EAAX,EAAeD,EAAf,IAAqB,GAArB,GAA2BT,IAAI,CAACY,EAAvC;AACH;;AAED,WAASC,MAAT,GAAkB;AACd,QAAIC,SAAS,GAAG;AACZjB,MAAAA,QAAQ,EAAEjB,MAAM,CAACiB,QADL;AAEZC,MAAAA,SAAS,EAAElB,MAAM,CAACkB,SAFN;AAGZC,MAAAA,aAAa,EAAEnB,MAAM,CAACmB,aAAP,GAAuB,CAH1B;AAIZG,MAAAA,cAAc,EAAEtB,MAAM,CAACsB,cAAP,GAAwB;AAJ5B,KAAhB;AAOArB,IAAAA,SAAS,CAACiC,SAAD,CAAT;AACA7C,IAAAA,OAAO,CAAC8C,OAAR,CAAgBC,eAAhB,CAAgCF,SAAhC,EAA2C,GAA3C;AACH;;AAED,WAASG,OAAT,GAAmB;AACf,QAAIH,SAAS,GAAG;AACZjB,MAAAA,QAAQ,EAAEjB,MAAM,CAACiB,QADL;AAEZC,MAAAA,SAAS,EAAElB,MAAM,CAACkB,SAFN;AAGZC,MAAAA,aAAa,EAAEnB,MAAM,CAACmB,aAAP,GAAuB,CAH1B;AAIZG,MAAAA,cAAc,EAAEtB,MAAM,CAACsB,cAAP,GAAwB;AAJ5B,KAAhB;AAOArB,IAAAA,SAAS,CAACiC,SAAD,CAAT;AACA7C,IAAAA,OAAO,CAAC8C,OAAR,CAAgBC,eAAhB,CAAgCF,SAAhC,EAA2C,GAA3C;AACH;;AAED,WAASI,SAAT,GAAqB;AAAA;;AACjB,QAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,aACtB,oBAAC,MAAD;AACI,QAAA,UAAU,EAAEzC,UADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AACH0C,UAAAA,MAAM,EAAE,EADL;AAEHC,UAAAA,KAAK,EAAE,EAFJ;AAGHC,UAAAA,YAAY,EAAE,EAHX;AAIHC,UAAAA,UAAU,EAAE,QAJT;AAKHC,UAAAA,cAAc,EAAE,QALb;AAMHC,UAAAA,eAAe,EAAEhE,MAAM,CAACiE;AANrB,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AACHN,UAAAA,MAAM,EAAE,EADL;AAEHC,UAAAA,KAAK,EAAE,EAFJ;AAGHC,UAAAA,YAAY,EAAE,EAHX;AAIHC,UAAAA,UAAU,EAAE,QAJT;AAKHC,UAAAA,cAAc,EAAE,QALb;AAMHC,UAAAA,eAAe,EAAEhE,MAAM,CAACkE;AANrB,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUI,oBAAC,KAAD;AACI,QAAA,MAAM,EAAEhE,KAAK,CAACiE,GADlB;AAEI,QAAA,KAAK,EAAE;AACHP,UAAAA,KAAK,EAAE,EADJ;AAEHD,UAAAA,MAAM,EAAE,EAFL;AAGHS,UAAAA,SAAS,EAAEpE,MAAM,CAACiE;AAHf,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVJ,CAVJ,CAHJ,CADsB;AAAA,KAA1B;;AAqCA,QAAMI,OAAO,GAAG,SAAVA,OAAU;AAAA,aACZ,oBAAC,MAAD;AACI,QAAA,UAAU,EAAEtD,YADhB;AAEI,QAAA,MAAM,EAAE;AAAEuD,UAAAA,CAAC,EAAE,GAAL;AAAUC,UAAAA,CAAC,EAAE;AAAb,SAFZ;AAGI,QAAA,IAAI,EAAE,IAHV;AAII,QAAA,QAAQ,EAAE9C,KAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMI,oBAAC,KAAD;AACI,QAAA,MAAM,EAAEvB,KAAK,CAACsE,GADlB;AAEI,QAAA,KAAK,EAAE;AACHZ,UAAAA,KAAK,EAAE,EADJ;AAEHD,UAAAA,MAAM,EAAE;AAFL,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,CADY;AAAA,KAAhB;;AAiBA,WACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEc,QAAAA,IAAI,EAAE;AAAR,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AACI,MAAA,GAAG,EAAEjE,OADT;AAEI,MAAA,QAAQ,EAAEX,eAFd;AAGI,MAAA,aAAa,EAAEsB,MAHnB;AAII,MAAA,KAAK,EAAE;AAAEsD,QAAAA,IAAI,EAAE;AAAR,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI,oBAAC,iBAAD;AACI,MAAA,MAAM,EAAE1D,YADZ;AAEI,MAAA,WAAW,EAAEE,UAFjB;AAGI,MAAA,MAAM,EAAEb,cAHZ;AAII,MAAA,WAAW,EAAE,CAJjB;AAKI,MAAA,WAAW,EAAEJ,MAAM,CAACkE,OALxB;AAMI,MAAA,iBAAiB,EAAE,IANvB;AAOI,MAAA,OAAO,EAAE,iBAAAQ,MAAM,EAAI;AACfpD,QAAAA,WAAW,CAACoD,MAAM,CAACrD,QAAR,CAAX;;AAEA,YAAI,CAACE,OAAL,EAAc;AAEVf,UAAAA,OAAO,CAAC8C,OAAR,CAAgBqB,gBAAhB,CAAiCD,MAAM,CAAC/B,WAAxC,EAAqD;AACjDiC,YAAAA,WAAW,EAAE;AACTC,cAAAA,KAAK,EAAG1E,KAAK,CAACyD,KAAN,GAAc,EADb;AAETkB,cAAAA,MAAM,EAAG3E,KAAK,CAACwD,MAAN,GAAe,CAFf;AAGToB,cAAAA,IAAI,EAAG5E,KAAK,CAACyD,KAAN,GAAc,EAHZ;AAIToB,cAAAA,GAAG,EAAG7E,KAAK,CAACwD,MAAN,GAAe;AAJZ;AADoC,WAArD;AAUA,cAAIsB,OAAO,GAAG;AACV7C,YAAAA,QAAQ,EAAEsC,MAAM,CAAC/B,WAAP,CAAmB,CAAnB,EAAsB,UAAtB,CADA;AAEVN,YAAAA,SAAS,EAAEqC,MAAM,CAAC/B,WAAP,CAAmB,CAAnB,EAAsB,WAAtB;AAFD,WAAd;;AAKA,cAAI+B,MAAM,CAAC/B,WAAP,CAAmBuC,MAAnB,IAA6B,CAAjC,EAAoC;AAChC,gBAAIzD,MAAK,GAAGiB,cAAc,CAACgC,MAAM,CAAC/B,WAAR,CAA1B;;AACAjB,YAAAA,QAAQ,CAACD,MAAD,CAAR;AACH;;AAEDT,UAAAA,eAAe,CAACiE,OAAD,CAAf;AACAzD,UAAAA,UAAU,CAAC,IAAD,CAAV;AACH;AACJ,OAnCL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EA2CKkC,iBAAiB,EA3CtB,EA4CK3C,YAAY,GAAEsD,OAAO,EAAT,GAAc,IA5C/B,CADJ,CADJ;AAkDH;;AAED,WAASc,uBAAT,GAAmC;AAC/B,WACI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAE;AACHC,QAAAA,QAAQ,EAAE,UADP;AAEHJ,QAAAA,GAAG,EAAE,EAFF;AAGHD,QAAAA,IAAI,EAAE,CAHH;AAIHF,QAAAA,KAAK,EAAE,CAJJ;AAKHlB,QAAAA,MAAM,EAAE,EALL;AAMHG,QAAAA,UAAU,EAAE,QANT;AAOHC,QAAAA,cAAc,EAAE;AAPb,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAE;AACHsB,QAAAA,aAAa,EAAE,KADZ;AAEHvB,QAAAA,UAAU,EAAE,QAFT;AAGHF,QAAAA,KAAK,EAAEzD,KAAK,CAACyD,KAAN,GAAc,GAHlB;AAIH0B,QAAAA,eAAe,EAAEnF,KAAK,CAACoF,OAJpB;AAKHC,QAAAA,iBAAiB,EAAErF,KAAK,CAACoF,OAAN,GAAgB,CALhC;AAMH1B,QAAAA,YAAY,EAAE1D,KAAK,CAACsF,MANjB;AAOHzB,QAAAA,eAAe,EAAEhE,MAAM,CAACiE;AAPrB,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWI,oBAAC,KAAD;AACI,MAAA,MAAM,EAAE/D,KAAK,CAACwF,OADlB;AAEI,MAAA,KAAK,EAAE;AACH9B,QAAAA,KAAK,EAAE,EADJ;AAEHD,QAAAA,MAAM,EAAE,EAFL;AAGHgC,QAAAA,WAAW,EAAExF,KAAK,CAACoF;AAHhB,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAoBI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEd,QAAAA,IAAI,EAAE;AAAR,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,KAAK,oBAAOxE,KAAK,CAAC2F,KAAb,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC/E,UAAlC,CADJ,CApBJ,EAwBI,oBAAC,IAAD;AAAM,MAAA,KAAK,oBAAOZ,KAAK,CAAC2F,KAAb,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCrD,IAAI,CAACsD,IAAL,CAAUxE,QAAV,CAAlC,UAxBJ,CAXJ,CADJ;AAwCH;;AAED,WAASyE,kBAAT,GAA8B;AAC1B,WACI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAE;AACHV,QAAAA,QAAQ,EAAE,UADP;AAEHN,QAAAA,MAAM,EAAE,EAFL;AAGHC,QAAAA,IAAI,EAAE,CAHH;AAIHF,QAAAA,KAAK,EAAE,CAJJ;AAKHf,QAAAA,UAAU,EAAE,QALT;AAMHC,QAAAA,cAAc,EAAE;AANb,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAE;AACHH,QAAAA,KAAK,EAAEzD,KAAK,CAACyD,KAAN,GAAc,GADlB;AAEH0B,QAAAA,eAAe,EAAEnF,KAAK,CAACoF,OAAN,GAAgB,CAF9B;AAGHC,QAAAA,iBAAiB,EAAErF,KAAK,CAACoF,OAAN,GAAgB,CAHhC;AAIH1B,QAAAA,YAAY,EAAE1D,KAAK,CAACsF,MAJjB;AAKHzB,QAAAA,eAAe,EAAEhE,MAAM,CAACiE;AALrB,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEoB,QAAAA,aAAa,EAAE,KAAjB;AAAwBvB,QAAAA,UAAU,EAAE;AAApC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,KAAD;AACI,MAAA,MAAM,EAAEnD,UAAF,oBAAEA,UAAU,CAAEoF,OAAZ,CAAoBC,MADhC;AAEI,MAAA,KAAK,EAAE;AACHpC,QAAAA,KAAK,EAAE,EADJ;AAEHD,QAAAA,MAAM,EAAE,EAFL;AAGHE,QAAAA,YAAY,EAAE;AAHX,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAWI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEY,QAAAA,IAAI,EAAE,CAAR;AAAWwB,QAAAA,UAAU,EAAE9F,KAAK,CAACoF;AAA7B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEF,QAAAA,aAAa,EAAE,KAAjB;AAAwBtB,QAAAA,cAAc,EAAE;AAAxC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,KAAK,oBAAO9D,KAAK,CAACiG,EAAb,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BvF,UAA/B,oBAA+BA,UAAU,CAAEoF,OAAZ,CAAoBI,IAAnD,CADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEd,QAAAA,aAAa,EAAE;AAAjB,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AACI,MAAA,MAAM,EAAEnF,KAAK,CAACkG,IADlB;AAEI,MAAA,KAAK,EAAE;AAAExC,QAAAA,KAAK,EAAE,EAAT;AAAaD,QAAAA,MAAM,EAAE,EAArB;AAAyBS,QAAAA,SAAS,EAAEpE,MAAM,CAACkE,OAA3C;AAAoDyB,QAAAA,WAAW,EAAExF,KAAK,CAACoF;AAAvE,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAKI,oBAAC,IAAD;AAAM,MAAA,KAAK,oBAAOtF,KAAK,CAAC2F,KAAb,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCjF,UAAlC,oBAAkCA,UAAU,CAAE0F,MAA9C,CALJ,CAFJ,CAFJ,EAcI,oBAAC,IAAD;AAAM,MAAA,KAAK;AAAIC,QAAAA,KAAK,EAAEtG,MAAM,CAACuG;AAAlB,SAA+BtG,KAAK,CAACuG,KAArC,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0D7F,UAA1D,oBAA0DA,UAAU,CAAEwF,IAAtE,CAdJ,CAXJ,CATJ,EAuCI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAE;AACHd,QAAAA,aAAa,EAAE,KADZ;AAEHoB,QAAAA,SAAS,EAAEtG,KAAK,CAACoF,OAAN,GAAgB,CAFxB;AAGHxB,QAAAA,cAAc,EAAE;AAHb,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAE;AACHU,QAAAA,IAAI,EAAE,CADH;AAEHd,QAAAA,MAAM,EAAE,EAFL;AAGHgC,QAAAA,WAAW,EAAE,EAHV;AAIH3B,QAAAA,eAAe,EAAEhE,MAAM,CAACkE,OAJrB;AAKHJ,QAAAA,UAAU,EAAE,QALT;AAMHC,QAAAA,cAAc,EAAE,QANb;AAOHF,QAAAA,YAAY,EAAE;AAPX,OADX;AAUI,MAAA,OAAO,EAAE;AAAA,eAAMtD,UAAU,CAACmG,QAAX,CAAoB,MAApB,CAAN;AAAA,OAVb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYI,oBAAC,IAAD;AAAM,MAAA,KAAK,kCAAOzG,KAAK,CAACiG,EAAb;AAAiBI,QAAAA,KAAK,EAAEtG,MAAM,CAACiE;AAA/B,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ,CAPJ,EAsBI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAE;AACHQ,QAAAA,IAAI,EAAE,CADH;AAEHd,QAAAA,MAAM,EAAE,EAFL;AAGHK,QAAAA,eAAe,EAAEhE,MAAM,CAAC2G,SAHrB;AAIH7C,QAAAA,UAAU,EAAE,QAJT;AAKHC,QAAAA,cAAc,EAAE,QALb;AAMHF,QAAAA,YAAY,EAAE;AANX,OADX;AASI,MAAA,OAAO,EAAE;AAAA,eAAMtD,UAAU,CAACqG,MAAX,EAAN;AAAA,OATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWI,oBAAC,IAAD;AAAM,MAAA,KAAK,kCAAO3G,KAAK,CAACiG,EAAb;AAAiBI,QAAAA,KAAK,EAAEtG,MAAM,CAACiE;AAA/B,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXJ,CAtBJ,CAvCJ,CAVJ,CADJ;AA0FH;;AAED,WAAS4C,aAAT,GAAyB;AACrB,WACI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAE;AACHzB,QAAAA,QAAQ,EAAE,UADP;AAEHN,QAAAA,MAAM,EAAE3E,KAAK,CAACwD,MAAN,GAAe,IAFpB;AAGHkB,QAAAA,KAAK,EAAE1E,KAAK,CAACoF,OAAN,GAAgB,CAHpB;AAIH3B,QAAAA,KAAK,EAAE,EAJJ;AAKHD,QAAAA,MAAM,EAAE,GALL;AAMHI,QAAAA,cAAc,EAAE;AANb,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAE;AACHH,QAAAA,KAAK,EAAE,EADJ;AAEHD,QAAAA,MAAM,EAAE,EAFL;AAGHE,QAAAA,YAAY,EAAE,EAHX;AAIHG,QAAAA,eAAe,EAAEhE,MAAM,CAACiE,KAJrB;AAKHH,QAAAA,UAAU,EAAE,QALT;AAMHC,QAAAA,cAAc,EAAE;AANb,OADX;AASI,MAAA,OAAO,EAAE;AAAA,eAAMX,MAAM,EAAZ;AAAA,OATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWI,oBAAC,IAAD;AAAM,MAAA,KAAK,oBAAOnD,KAAK,CAAC6G,KAAb,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAXJ,CAXJ,EA0BI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAE;AACHlD,QAAAA,KAAK,EAAE,EADJ;AAEHD,QAAAA,MAAM,EAAE,EAFL;AAGHE,QAAAA,YAAY,EAAE,EAHX;AAIHG,QAAAA,eAAe,EAAEhE,MAAM,CAACiE,KAJrB;AAKHH,QAAAA,UAAU,EAAE,QALT;AAMHC,QAAAA,cAAc,EAAE;AANb,OADX;AASI,MAAA,OAAO,EAAE;AAAA,eAAMP,OAAO,EAAb;AAAA,OATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWI,oBAAC,IAAD;AAAM,MAAA,KAAK,oBAAOvD,KAAK,CAAC6G,KAAb,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAXJ,CA1BJ,CADJ;AA2CH;;AAED,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAErC,MAAAA,IAAI,EAAE;AAAR,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKhB,SAAS,EADd,EAEK0B,uBAAuB,EAF5B,EAGKW,kBAAkB,EAHvB,EAIKe,aAAa,EAJlB,CADJ;AAQH,CAhXD;;AAkXA,eAAexG,aAAf","sourcesContent":["import React from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity\n} from \"react-native\";\nimport MapView, { PROVIDER_GOOGLE, Marker } from 'react-native-maps';\nimport MapViewDirections from \"react-native-maps-directions\";\n\nimport { COLORS, FONTS, icons, SIZES, GOOGLE_API_KEY } from \"../constants\"\n\nconst OrderDelivery = ({ route, navigation }) => {\n\n    const mapView = React.useRef()\n\n    const [restaurant, setRestaurant] = React.useState(null)\n    const [streetName, setStreetName] = React.useState(\"\")\n    const [fromLocation, setFromLocation] = React.useState(null)\n    const [toLocation, setToLocation] = React.useState(null)\n    const [region, setRegion] = React.useState(null)\n\n    const [duration, setDuration] = React.useState(0)\n    const [isReady, setIsReady] = React.useState(false)\n    const [angle, setAngle] = React.useState(0)\n\n    React.useEffect(() => {\n        let { restaurant, currentLocation } = route.params;\n\n        let fromLoc = currentLocation.gps\n        let toLoc = restaurant.location\n        let street = currentLocation.streetName\n\n        let mapRegion = {\n            latitude: (fromLoc.latitude + toLoc.latitude) / 2,\n            longitude: (fromLoc.longitude + toLoc.longitude) / 2,\n            latitudeDelta: Math.abs(fromLoc.latitude - toLoc.latitude) * 2,\n            longitudeDelta: Math.abs(fromLoc.longitude - toLoc.longitude) * 2\n        }\n\n        setRestaurant(restaurant)\n        setStreetName(street)\n        setFromLocation(fromLoc)\n        setToLocation(toLoc)\n        setRegion(mapRegion)\n\n    }, [])\n\n    function calculateAngle(coordinates) {\n        let startLat = coordinates[0][\"latitude\"]\n        let startLng = coordinates[0][\"longitude\"]\n        let endLat = coordinates[1][\"latitude\"]\n        let endLng = coordinates[1][\"longitude\"]\n        let dx = endLat - startLat\n        let dy = endLng - startLng\n\n        return Math.atan2(dy, dx) * 180 / Math.PI\n    }\n\n    function zoomIn() {\n        let newRegion = {\n            latitude: region.latitude,\n            longitude: region.longitude,\n            latitudeDelta: region.latitudeDelta / 2,\n            longitudeDelta: region.longitudeDelta / 2\n        }\n\n        setRegion(newRegion)\n        mapView.current.animateToRegion(newRegion, 200)\n    }\n\n    function zoomOut() {\n        let newRegion = {\n            latitude: region.latitude,\n            longitude: region.longitude,\n            latitudeDelta: region.latitudeDelta * 2,\n            longitudeDelta: region.longitudeDelta * 2\n        }\n\n        setRegion(newRegion)\n        mapView.current.animateToRegion(newRegion, 200)\n    }\n\n    function renderMap() {\n        const destinationMarker = () => (\n            <Marker\n                coordinate={toLocation}\n            >\n                <View\n                    style={{\n                        height: 40,\n                        width: 40,\n                        borderRadius: 20,\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        backgroundColor: COLORS.white\n                    }}\n                >\n                    <View\n                        style={{\n                            height: 30,\n                            width: 30,\n                            borderRadius: 15,\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            backgroundColor: COLORS.primary\n                        }}\n                    >\n                        <Image\n                            source={icons.pin}\n                            style={{\n                                width: 25,\n                                height: 25,\n                                tintColor: COLORS.white\n                            }}\n                        />\n                    </View>\n                </View>\n            </Marker>\n        )\n\n        const carIcon = () => (\n            <Marker\n                coordinate={fromLocation}\n                anchor={{ x: 0.5, y: 0.5 }}\n                flat={true}\n                rotation={angle}\n            >\n                <Image\n                    source={icons.car}\n                    style={{\n                        width: 40,\n                        height: 40\n                    }}\n                />\n            </Marker>\n        )\n\n        return (\n            <View style={{ flex: 1 }}>\n                <MapView\n                    ref={mapView}\n                    provider={PROVIDER_GOOGLE}\n                    initialRegion={region}\n                    style={{ flex: 1 }}\n                >\n                    <MapViewDirections\n                        origin={fromLocation}\n                        destination={toLocation}\n                        apikey={GOOGLE_API_KEY}\n                        strokeWidth={5}\n                        strokeColor={COLORS.primary}\n                        optimizeWaypoints={true}\n                        onReady={result => {\n                            setDuration(result.duration)\n\n                            if (!isReady) {\n                                // Fit route into maps\n                                mapView.current.fitToCoordinates(result.coordinates, {\n                                    edgePadding: {\n                                        right: (SIZES.width / 20),\n                                        bottom: (SIZES.height / 4),\n                                        left: (SIZES.width / 20),\n                                        top: (SIZES.height / 8)\n                                    }\n                                })\n\n                                // Reposition the car\n                                let nextLoc = {\n                                    latitude: result.coordinates[0][\"latitude\"],\n                                    longitude: result.coordinates[0][\"longitude\"]\n                                }\n\n                                if (result.coordinates.length >= 2) {\n                                    let angle = calculateAngle(result.coordinates)\n                                    setAngle(angle)\n                                }\n\n                                setFromLocation(nextLoc)\n                                setIsReady(true)\n                            }\n                        }}\n                    />\n                    {destinationMarker()}\n                    {fromLocation? carIcon() : null}\n                </MapView>\n            </View>\n        )\n    }\n\n    function renderDestinationHeader() {\n        return (\n            <View\n                style={{\n                    position: 'absolute',\n                    top: 50,\n                    left: 0,\n                    right: 0,\n                    height: 50,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }}\n            >\n                <View\n                    style={{\n                        flexDirection: 'row',\n                        alignItems: 'center',\n                        width: SIZES.width * 0.9,\n                        paddingVertical: SIZES.padding,\n                        paddingHorizontal: SIZES.padding * 2,\n                        borderRadius: SIZES.radius,\n                        backgroundColor: COLORS.white\n                    }}\n                >\n                    <Image\n                        source={icons.red_pin}\n                        style={{\n                            width: 30,\n                            height: 30,\n                            marginRight: SIZES.padding\n                        }}\n                    />\n\n                    <View style={{ flex: 1 }}>\n                        <Text style={{ ...FONTS.body3 }}>{streetName}</Text>\n                    </View>\n\n                    <Text style={{ ...FONTS.body3 }}>{Math.ceil(duration)} mins</Text>\n                </View>\n            </View>\n        )\n    }\n\n    function renderDeliveryInfo() {\n        return (\n            <View\n                style={{\n                    position: 'absolute',\n                    bottom: 50,\n                    left: 0,\n                    right: 0,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }}\n            >\n                <View\n                    style={{\n                        width: SIZES.width * 0.9,\n                        paddingVertical: SIZES.padding * 3,\n                        paddingHorizontal: SIZES.padding * 2,\n                        borderRadius: SIZES.radius,\n                        backgroundColor: COLORS.white\n                    }}\n                >\n                    <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                        {/* Avatar */}\n                        <Image\n                            source={restaurant?.courier.avatar}\n                            style={{\n                                width: 50,\n                                height: 50,\n                                borderRadius: 25\n                            }}\n                        />\n\n                        <View style={{ flex: 1, marginLeft: SIZES.padding }}>\n                            {/* Name & Rating */}\n                            <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\n                                <Text style={{ ...FONTS.h4 }}>{restaurant?.courier.name}</Text>\n                                <View style={{ flexDirection: 'row' }}>\n                                    <Image\n                                        source={icons.star}\n                                        style={{ width: 18, height: 18, tintColor: COLORS.primary, marginRight: SIZES.padding }}\n                                    />\n                                    <Text style={{ ...FONTS.body3 }}>{restaurant?.rating}</Text>\n                                </View>\n                            </View>\n\n                            {/* Restaurant */}\n                            <Text style={{ color: COLORS.darkgray, ...FONTS.body4 }}>{restaurant?.name}</Text>\n                        </View>\n                    </View>\n\n                    {/* Buttons */}\n                    <View\n                        style={{\n                            flexDirection: 'row',\n                            marginTop: SIZES.padding * 2,\n                            justifyContent: 'space-between'\n                        }}\n                    >\n                        <TouchableOpacity\n                            style={{\n                                flex: 1,\n                                height: 50,\n                                marginRight: 10,\n                                backgroundColor: COLORS.primary,\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                borderRadius: 10\n                            }}\n                            onPress={() => navigation.navigate(\"Home\")}\n                        >\n                            <Text style={{ ...FONTS.h4, color: COLORS.white }}>Call</Text>\n                        </TouchableOpacity>\n\n                        <TouchableOpacity\n                            style={{\n                                flex: 1,\n                                height: 50,\n                                backgroundColor: COLORS.secondary,\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                borderRadius: 10\n                            }}\n                            onPress={() => navigation.goBack()}\n                        >\n                            <Text style={{ ...FONTS.h4, color: COLORS.white }}>Cancel</Text>\n                        </TouchableOpacity>\n                    </View>\n\n                </View>\n            </View>\n        )\n    }\n\n    function renderButtons() {\n        return (\n            <View\n                style={{\n                    position: 'absolute',\n                    bottom: SIZES.height * 0.35,\n                    right: SIZES.padding * 2,\n                    width: 60,\n                    height: 130,\n                    justifyContent: 'space-between'\n                }}\n            >\n                {/* Zoom In */}\n                <TouchableOpacity\n                    style={{\n                        width: 60,\n                        height: 60,\n                        borderRadius: 30,\n                        backgroundColor: COLORS.white,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => zoomIn()}\n                >\n                    <Text style={{ ...FONTS.body1 }}>+</Text>\n                </TouchableOpacity>\n\n                {/* Zoom Out */}\n                <TouchableOpacity\n                    style={{\n                        width: 60,\n                        height: 60,\n                        borderRadius: 30,\n                        backgroundColor: COLORS.white,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                    onPress={() => zoomOut()}\n                >\n                    <Text style={{ ...FONTS.body1 }}>-</Text>\n                </TouchableOpacity>\n            </View>\n\n        )\n    }\n\n    return (\n        <View style={{ flex: 1 }}>\n            {renderMap()}\n            {renderDestinationHeader()}\n            {renderDeliveryInfo()}\n            {renderButtons()}\n        </View>\n    )\n}\n\nexport default OrderDelivery;"]},"metadata":{},"sourceType":"module"}